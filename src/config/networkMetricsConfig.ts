import type { MetricInfo, MetricKey } from '@/types/networkMetrics';

export const NETWORK_METRICS_CONFIG: Record<string, MetricInfo> = {
  packetLoss: {
    key: 'packetLoss',
    name: 'ä¸¢åŒ…çŽ‡',
    nameEn: 'Packet Loss',
    icon: 'ðŸ“‰',
    definition: 'ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­æ•°æ®åŒ…ä¸¢å¤±çš„æ¯”ä¾‹',
    explanation: 'å°±åƒå¯„å¿«é€’æ—¶åŒ…è£¹ä¸¢å¤±ï¼Œéœ€è¦é‡æ–°å¯„é€ã€‚ä¸¢åŒ…çŽ‡è¶Šé«˜ï¼Œæ•°æ®ä¼ è¾“è¶Šä¸å¯é ã€‚',
    impact: [
      'äº¤æ˜“å“åº”æ—¶é—´å˜é•¿ï¼ˆéœ€è¦é‡ä¼ ä¸¢å¤±çš„æ•°æ®ï¼‰',
      'äº¤æ˜“å¤±è´¥çŽ‡ä¸Šå‡ï¼ˆé‡ä¼ è¶…æ—¶æˆ–è¿žæŽ¥ä¸­æ–­ï¼‰',
      'ç”¨æˆ·ä½“éªŒä¸‹é™ï¼ˆé¡µé¢åŠ è½½ç¼“æ…¢ã€æ“ä½œå¡é¡¿ï¼‰',
    ],
    threshold: {
      warning: 1,
      critical: 5,
    },
    possibleCauses: [
      'ç½‘ç»œè®¾å¤‡æ•…éšœæˆ–è¿‡è½½ï¼ˆäº¤æ¢æœºã€è·¯ç”±å™¨ï¼‰',
      'ç‰©ç†é“¾è·¯è´¨é‡å·®ï¼ˆç½‘çº¿ã€å…‰çº¤è€åŒ–ï¼‰',
      'é˜²ç«å¢™æˆ–å®‰å…¨è®¾å¤‡ç­–ç•¥å¯¼è‡´ä¸¢åŒ…',
      'ç½‘ç»œæ‹¥å¡žï¼ˆå¸¦å®½ä¸è¶³ï¼‰',
    ],
    normalMessage: 'å½“å‰ç½‘ç»œä¼ è¾“è´¨é‡è‰¯å¥½ï¼Œæ•°æ®åŒ…ä¸¢å¤±çŽ‡åœ¨æ­£å¸¸èŒƒå›´å†…ã€‚',
  },
  
  retransmission: {
    key: 'retransmission',
    name: 'é‡ä¼ çŽ‡',
    nameEn: 'Retransmission',
    icon: 'ðŸ”„',
    definition: 'TCP åè®®æ£€æµ‹åˆ°æ•°æ®ä¸¢å¤±åŽé‡æ–°å‘é€çš„æ¯”ä¾‹',
    explanation: 'å°±åƒæ‰“ç”µè¯æ—¶å¯¹æ–¹æ²¡å¬æ¸…ï¼Œä½ éœ€è¦é‡å¤è¯´ä¸€éã€‚é‡ä¼ çŽ‡é«˜è¯´æ˜Žç½‘ç»œè´¨é‡å·®ï¼Œéœ€è¦é¢‘ç¹é‡å¤å‘é€æ•°æ®ã€‚',
    impact: [
      'äº¤æ˜“å¤„ç†æ—¶é—´å»¶é•¿ï¼ˆç­‰å¾…é‡ä¼ å®Œæˆï¼‰',
      'ç½‘ç»œå¸¦å®½æµªè´¹ï¼ˆåŒæ ·çš„æ•°æ®å‘é€å¤šæ¬¡ï¼‰',
      'æœåŠ¡å™¨è´Ÿè½½å¢žåŠ ï¼ˆå¤„ç†é‡ä¼ è¯·æ±‚ï¼‰',
    ],
    threshold: {
      warning: 2,
      critical: 10,
    },
    possibleCauses: [
      'ç½‘ç»œä¸¢åŒ…ï¼ˆå‚è€ƒ Packet Loss æŒ‡æ ‡ï¼‰',
      'ç½‘ç»œå»¶è¿ŸæŠ–åŠ¨ï¼ˆå»¶è¿Ÿä¸ç¨³å®šï¼‰',
      'æŽ¥æ”¶ç«¯å¤„ç†èƒ½åŠ›ä¸è¶³ï¼ˆç¼“å†²åŒºæº¢å‡ºï¼‰',
      'ç½‘ç»œè·¯å¾„ä¸ç¨³å®šï¼ˆè·¯ç”±é¢‘ç¹å˜åŒ–ï¼‰',
    ],
    normalMessage: 'å½“å‰ç½‘ç»œé‡ä¼ çŽ‡æ­£å¸¸ï¼Œæ•°æ®ä¼ è¾“æ•ˆçŽ‡è‰¯å¥½ã€‚',
  },
  
  duplicateAck: {
    key: 'duplicateAck',
    name: 'é‡å¤ç¡®è®¤',
    nameEn: 'Duplicate ACK',
    icon: 'ðŸ”',
    definition: 'æŽ¥æ”¶ç«¯é‡å¤å‘é€ç¡®è®¤ä¿¡å·ï¼Œè¡¨ç¤ºæœŸå¾…çš„æ•°æ®åŒ…æœªåˆ°è¾¾',
    explanation: 'å°±åƒä½ åœ¨ç­‰å¿«é€’ï¼Œå¿«é€’å‘˜é€æ¥çš„ä¸æ˜¯ä½ æœŸå¾…çš„é‚£ä¸ªåŒ…è£¹ï¼Œä½ ä¼šä¸€ç›´è¯´"æˆ‘è¦çš„ä¸æ˜¯è¿™ä¸ª"ã€‚é‡å¤ç¡®è®¤å¤šè¯´æ˜Žæ•°æ®åŒ…åˆ°è¾¾é¡ºåºæ··ä¹±ã€‚',
    impact: [
      'è§¦å‘å¿«é€Ÿé‡ä¼ æœºåˆ¶ï¼ˆæ€§èƒ½ä¸‹é™ï¼‰',
      'ç½‘ç»œåžåé‡é™ä½Žï¼ˆä¼ è¾“æ•ˆçŽ‡ä¸‹é™ï¼‰',
      'äº¤æ˜“å“åº”æ—¶é—´æ³¢åŠ¨ï¼ˆä¸ç¨³å®šï¼‰',
    ],
    threshold: {
      warning: 3,
      critical: 10,
    },
    possibleCauses: [
      'æ•°æ®åŒ…ä¹±åºï¼ˆç½‘ç»œè·¯å¾„ä¸ç¨³å®šï¼‰',
      'ç½‘ç»œæ‹¥å¡žï¼ˆé˜Ÿåˆ—æº¢å‡ºå¯¼è‡´ä¸¢åŒ…ï¼‰',
      'è´Ÿè½½å‡è¡¡é…ç½®ä¸å½“ï¼ˆä¼šè¯ä¿æŒé—®é¢˜ï¼‰',
      'ç½‘ç»œè®¾å¤‡æ€§èƒ½ç“¶é¢ˆ',
    ],
    normalMessage: 'å½“å‰æ•°æ®åŒ…ä¼ è¾“é¡ºåºæ­£å¸¸ï¼Œç½‘ç»œè·¯å¾„ç¨³å®šã€‚',
  },
  
  tcpSetup: {
    key: 'tcpSetup',
    name: 'TCP å»ºè¿žæˆåŠŸçŽ‡',
    nameEn: 'TCP Setup Success',
    icon: 'ðŸ”—',
    definition: 'TCP ä¸‰æ¬¡æ¡æ‰‹æˆåŠŸå»ºç«‹è¿žæŽ¥çš„æ¯”ä¾‹',
    explanation: 'å°±åƒæ‰“ç”µè¯æ—¶èƒ½å¦æŽ¥é€šã€‚å»ºè¿žæˆåŠŸçŽ‡ä½Žè¯´æ˜Žå¾ˆå¤š"ç”µè¯"æ‰“ä¸é€šï¼Œäº¤æ˜“æ— æ³•å¼€å§‹ã€‚',
    impact: [
      'äº¤æ˜“æ— æ³•å‘èµ·ï¼ˆè¿žæŽ¥å¤±è´¥ï¼‰',
      'ç”¨æˆ·çœ‹åˆ°è¿žæŽ¥é”™è¯¯æç¤º',
      'äº¤æ˜“æˆåŠŸçŽ‡ç›´æŽ¥ä¸‹é™',
    ],
    threshold: {
      warning: 99.5,
      critical: 95,
      reverse: true, // Higher is better
    },
    possibleCauses: [
      'æœåŠ¡å™¨èµ„æºè€—å°½ï¼ˆè¿žæŽ¥æ•°ã€å†…å­˜ã€CPUï¼‰',
      'é˜²ç«å¢™æˆ–å®‰å…¨è®¾å¤‡é™åˆ¶ï¼ˆè¿žæŽ¥æ•°é™åˆ¶ã€SYN Flood é˜²æŠ¤ï¼‰',
      'ç½‘ç»œè®¾å¤‡æ•…éšœï¼ˆäº¤æ¢æœºã€è´Ÿè½½å‡è¡¡å™¨ï¼‰',
      'æœåŠ¡ç«¯åº”ç”¨é—®é¢˜ï¼ˆç›‘å¬é˜Ÿåˆ—æ»¡ã€è¿›ç¨‹å´©æºƒï¼‰',
    ],
    normalMessage: 'å½“å‰ç½‘ç»œè¿žæŽ¥è´¨é‡è‰¯å¥½ï¼ŒTCP å»ºè¿žæˆåŠŸçŽ‡æ­£å¸¸ã€‚',
  },
  
  tcpRst: {
    key: 'tcpRst',
    name: 'TCP è¿žæŽ¥é‡ç½®',
    nameEn: 'TCP RST',
    icon: 'âš¡',
    definition: 'TCP è¿žæŽ¥è¢«å¼ºåˆ¶ä¸­æ–­çš„æ¬¡æ•°',
    explanation: 'å°±åƒæ‰“ç”µè¯æ—¶çªç„¶è¢«æŒ‚æ–­ã€‚RST å¤šè¯´æ˜Žè¿žæŽ¥ç»å¸¸è¢«å¼‚å¸¸ä¸­æ–­ï¼Œäº¤æ˜“æ— æ³•å®Œæˆã€‚',
    impact: [
      'æ­£åœ¨è¿›è¡Œçš„äº¤æ˜“è¢«ä¸­æ–­',
      'äº¤æ˜“å¤±è´¥çŽ‡ä¸Šå‡',
      'ç”¨æˆ·ä½“éªŒæžå·®ï¼ˆæ“ä½œè¢«æ‰“æ–­ï¼‰',
    ],
    threshold: {
      warning: 1,
      critical: 5,
    },
    possibleCauses: [
      'åº”ç”¨ç¨‹åºå¼‚å¸¸å…³é—­è¿žæŽ¥ï¼ˆä»£ç  bugã€è¶…æ—¶è®¾ç½®ï¼‰',
      'é˜²ç«å¢™æˆ–å®‰å…¨è®¾å¤‡ä¸»åŠ¨æ–­å¼€ï¼ˆç­–ç•¥é™åˆ¶ã€å¼‚å¸¸æµé‡ï¼‰',
      'æœåŠ¡å™¨èµ„æºä¸è¶³ï¼ˆå¼ºåˆ¶å…³é—­è¿žæŽ¥é‡Šæ”¾èµ„æºï¼‰',
      'ç½‘ç»œä¸­é—´è®¾å¤‡æ•…éšœï¼ˆNAT è®¾å¤‡ã€è´Ÿè½½å‡è¡¡å™¨ï¼‰',
    ],
    normalMessage: 'å½“å‰ TCP è¿žæŽ¥ç¨³å®šï¼Œæ— å¼‚å¸¸é‡ç½®æƒ…å†µã€‚',
  },
};

// Helper function to get metric config by data key
export const getMetricConfigByDataKey = (dataKey: string): MetricInfo | null => {
  const keyMap: Record<string, MetricKey> = {
    'loss': 'packetLoss',
    'retrans': 'retransmission',
    'dupAck': 'duplicateAck',
    'setup': 'tcpSetup',
    'rst': 'tcpRst',
  };
  
  const metricKey = keyMap[dataKey];
  return metricKey ? NETWORK_METRICS_CONFIG[metricKey] : null;
};

